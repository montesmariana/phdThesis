<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 NephoVis | Cloudspotting: Visual analytics for distributional semantics</title>
<meta name="author" content="Mariana Montes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.9/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS --><link rel="stylesheet" href="assets/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Cloudspotting: Visual analytics for distributional semantics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Abstract</a></li>
<li><a class="" href="acknowledgments.html">Acknowledgments</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">Visualization tool</li>
<li><a class="" href="an-interface-to-the-world-of-clouds.html"><span class="header-section-number">2</span> An interface to the world of clouds</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">3</span> From corpora to clouds</a></li>
<li><a class="" href="params.html"><span class="header-section-number">4</span> Parameter settings</a></li>
<li><a class="active" href="nephovis.html"><span class="header-section-number">5</span> NephoVis</a></li>
<li><a class="" href="hdbscan.html"><span class="header-section-number">6</span> HDBSCAN</a></li>
<li><a class="" href="ann.html"><span class="header-section-number">7</span> Annotation schema</a></li>
<li class="book-part">The language of clouds</li>
<li><a class="" href="the-nature-of-clouds.html"><span class="header-section-number">8</span> The nature of clouds</a></li>
<li><a class="" href="nonsense-or-no-senses.html"><span class="header-section-number">9</span> Nonsense or no senses?</a></li>
<li><a class="" href="no-sky-fits-all.html"><span class="header-section-number">10</span> No sky fits all</a></li>
<li class="book-part">Conclusion</li>
<li><a class="" href="cloudspotters-guide.html"><span class="header-section-number">11</span> Cloudspotter’s guide</a></li>
<li><a class="" href="avenues-for-further-research.html"><span class="header-section-number">12</span> Avenues for further research</a></li>
<li><a class="" href="conclusion.html"><span class="header-section-number">13</span> Conclusion</a></li>
<li><a class="" href="references.html">References</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="definitions.html"><span class="header-section-number">A</span> Definitions</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/montesmariana/phdThesis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="nephovis" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> NephoVis<a class="anchor" aria-label="anchor" href="#nephovis"><i class="fas fa-link"></i></a>
</h1>
<p>In this chapter we will learn how to use the visualization tool to explore
and compare token-level vector space models.</p>
<p>As of this moment, the tool can be found at a
<a href="https://qlvl.github.io/NephoVis">Github Page</a>, that is,
a <a href="https://github.com/qlvl/NephoVis">Github repository</a> that can be rendered
as a static website <span class="citation">(<a href="references.html#ref-montes.qlvl_2021" role="doc-biblioref">Montes &amp; QLVL 2021</a>)</span>.
It obtains its data from a <a href="https://github.com/qlvl/tokenclouds">submodule</a>;
an interested user could clone the repository and just modify the path to the data.</p>
<!-- TODO Decide on a data format: API?? -->
<p>The code for the visualization is written in Javascript, making heavy use of the
<a href="https://d3.js">D3.js</a> library, which was designed for beautiful web-based
<strong>d</strong>ata-<strong>d</strong>riven visualization. While it is known of its steep learning curve,
it can be useful to think of it in terms of R’s vectorized approach: it links
DOM elements to arrays and manipulates them based on the items’ properties.</p>
<p>The main rationale and framework for this visualization tool was developed by
Thomas Wielfaert <span class="citation">(<a href="references.html#ref-wielfaert.etal_2019" role="doc-biblioref">Wielfaert et al. 2019</a>)</span>; that code can be found
<a href="https://github.com/tokenclouds/tokenclouds.github.io/LeTok/">here</a>.</p>
<p>The current implementation would not exist without this foundational setup. However,
a number of the available features were added later.</p>
<p>The description of the tool will not immediately follow the expected workflow of an user.
Instead, we will start with the lowest level, <a href="nephovis.html#level_3">Level 3</a>,
which represents individual token-level clouds,
zoom out into <a href="nephovis.html#level_2">Level 2</a>, which shows multiple token-level clouds simultaneously,
which will make the most abstract level, <a href="nephovis.html#level_1">Level 1</a>, more clear.
Afterwards (Section <a href="nephovis.html#nephowf">5.4</a>) we will briefly simulate the path an user would take from Level 1 to Level 3.
This perspective was also taken in <span class="citation"><a href="references.html#ref-montes.heylen_Submitted" role="doc-biblioref">Montes &amp; Heylen</a></span>.
Finally, Section <a href="nephovis.html#wishlist">5.5</a> goes into the Beta features
that require better development and testing, as well as ideas that we might want to
implement in the future. In any case, it must be noted that from July 2019 to
2021-07-08 the user and developer have been the same person, with occasional,
valuable input from other members of the Nephological Semantics project. The
project could certainly benefit from a wider input of suggestions.</p>
<!-- NOTE following Shneiderman‘s Visual Information Seeking Mantra: “Overview first, zoom and filter, then details-on-demand” [-@shneiderman_1996 97], the tool organizes the full range of available information along three levels. -->
<!-- NOTE we might actually want to dedicate a section to the shared features of levels 2 and 3 -->
<div id="level_3" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Level 3<a class="anchor" aria-label="anchor" href="#level_3"><i class="fas fa-link"></i></a>
</h2>
<p>Level 3 of the visualization tool shows a zoomable scatterplot in which each glyph represents a token, i.e. an instance of the target lexical item. The name of the model, coding the parameter settings as described in
<!-- FIXME add crossreference -->
, is indicated on the top. It is possible to map colors and shapes to categorical variables (such as sense labels) and sizes to numerical variables (such as number of available context words) and to select tokens with a given value by clicking on the corresponding legend key.</p>
<!-- COMBAK add example -->
</div>
<div id="level_2" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Level 2<a class="anchor" aria-label="anchor" href="#level_2"><i class="fas fa-link"></i></a>
</h2>
<p>Level 2 of the visualization is <em>not</em> a scatterplot matrix, although it looks like one and the code was inspired by Mike Bostock’s example. Instead, it is just an array of small plots next to each other and wrap of easier readability.</p>
<p>Each of them represents a different model and the same basic features from Level 3 are available: color, shape and size coding, selection by clicking and brushing, and finding the context by hovering over the tokens.</p>
<!-- COMBAK add example -->
<p>Because they are model-dependent, highlighted context and searching tokens by context word are meaningless in this level, where multiple models are being shown simultaneously. The key contribution of this level, next to the superficial visual comparison of the shape of each plot, is the ability to select one or more tokens in a plot and highlighting them in the rest of the plots as well. Thanks to this functionality, the user can compare the relative position of a group of tokens in a model against that in a different model.</p>
</div>
<div id="level_1" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Level 1<a class="anchor" aria-label="anchor" href="#level_1"><i class="fas fa-link"></i></a>
</h2>
<p>Level 1 shows one zoomable scatterplot, similar to Level 3, but with each glyph representing one model, instead of one token. As a reminder of the difference, the default shape in Level 1 is a wye (“Y”), while that in the other levels is a circle. The data represented by this scatterplot is not the distance between tokens anymore, but that between models, as described at the beginning of Section 3. This scatterplot aims to represent the similarity between models and allows the user to select the models to inspect according to different criteria. Categorical variables (e.g. whether sentence boundaries are used) can be mapped to colors and shapes, as shown in Figure 5, and numerical variables (e.g. number of tokens in the model) can be mapped to size. A selection of buttons on the left panel, as well as the legends for color and shape, can be used to filter models with a certain parameter setting. Otherwise, models can be selected by clicking on the glyphs that represent them.</p>
</div>
<div id="nephowf" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> The full story<a class="anchor" aria-label="anchor" href="#nephowf"><i class="fas fa-link"></i></a>
</h2>
<p>The increasing granularity from Level 1 to Level 3 and the manner of access to different functionalities respect the mantra “Overview first, zoom and filter, then details-on-demand” <span class="citation">(<a href="references.html#ref-shneiderman_1996" role="doc-biblioref">Shneiderman 1996: 97</a>)</span>.
The individual plots in Levels 1 and 3 are literally zoomable; and in all cases it is possible to select items (either models, in Level 1, or tokens, in the other two), for more detailed inspection. Finally, a number of features show details on demand, such as the names of the models in Level 1 and the context of the tokens in the other two levels.</p>
<p>In practice, the user will start with Level 1, the scatterplot of models, and can look for structure in the distribution of the parameters on the plot. For example, color coding may reveal that models with nouns, adjectives, verbs and adverbs as first-order context words are very different from those without strong filters for part-of-speech, while the use of sentence boundaries makes little difference. Depending on whether the user wants to compare models similar or different to each other, or which parameters they would like to keep fixed, they will use individual selection or the buttons to choose models for Level 2. In our case, we click on “Select medoids,” which selects the 8 models returned by a partitioning algorithm, which offers a wide range of variation in a manageable number of plots.</p>
<p>In Level 2 the user can already compare the shapes that the models take in their respective plots, the distribution of categories like sense labels, and the number of lost tokens. In addition, the “distance matrix” button offers a heatmap of the pairwise distances between the selected models. In the case of heffen, the restrictive collocational patterns it presents lead to crisp clusters in the visualization and consistent organization across models. However, models with less clearly defined structure may prove harder to understand. In both cases, the brushing and linking functionality highlights whether tokens that are grouped in one model are also grouped in a different model. From here, the user might switch back and forth between Level 2 and Level 3 for a more detailed inspection of the models.</p>
<div id="examining-context-words" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Examining context words<a class="anchor" aria-label="anchor" href="#examining-context-words"><i class="fas fa-link"></i></a>
</h3>
<p>While it is possible to look at the individual context of each token by hovering over them, it loses track of the larger patterns we want to understand. That is the purpose of the frequency tables in levels 2 and 3.</p>
<p>In any given model, tokens might be close together because they share a context word, and/or because their context words are (based on the second-order modelling) similar to each other. First-order parameters are, by definition, directly responsible for the selection of context words that will be used to model each token. Therefore, when inspecting a model, we might want to know which context word(s) pull certain tokens together, or why tokens that we expect to be together are far apart instead. In other words, if each model offers a different perspective on the distributional behavior of a token, we want to understand what informs said perspective.</p>
<p>In Level 3, individual tokens and groups of them may be selected in different ways. Given such a selection, clicking on “Frequency table” will open a table with one row per context word, a column indicating in how many of the selected tokens it occurs, and more columns with pre-computed information (e.g. PMI values).</p>
<p>The following five columns include pre-computed frequency information, such as the raw co-occurrence frequency and PMI value between the context word and the target based on windows of 10 and 4, and raw frequency in the corpus.
These values can be interesting if we would like to strengthen or weaken filters for a smarter selection of context words. This particular model uses dependency-based information as well as a PMI threshold of 0 to select context words.</p>
<p>In Level 2, while comparing different models, the frequency table takes a different form. There is still one context word per row, but the number of tokens with which it co-occurs will depend on the model.
The columns in this table are all computed by the visualization based on the lists of context words per token per model. Next to the column with the name of the context word, the default table shows one column called “total” and one per model, headed by the corresponding number. The columns for each model match the second column in their Level 3 frequency table: they indicate with how many of the selected tokens the context word co-occurs. The “total” column, in contrast, reveals the union of this selection: with how many of the selected tokens the context word co-occurs in at least one model.</p>
<p>The default table counts how many of the selected tokens co-occur with each of the context words, but it does not use information from other tokens outside the selection, i.e. the cue validity or association strength of the context words for the selected group. For that purpose, a dropdown button in the top left corner of the frequency table offers a small range of transformations, such as odds ratio, Fisher Exact, cue validity, etc. One such option shows the absolute frequencies within and outside the selection, where the green columns count the number of selected tokens that co-occur with each context word, and the white columns count the number of tokens outside of the selection co-occurring with those context words.</p>
</div>
</div>
<div id="wishlist" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Wishlist<a class="anchor" aria-label="anchor" href="#wishlist"><i class="fas fa-link"></i></a>
</h2>
<!-- TODO add things for future development? -->

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="params.html"><span class="header-section-number">4</span> Parameter settings</a></div>
<div class="next"><a href="hdbscan.html"><span class="header-section-number">6</span> HDBSCAN</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#nephovis"><span class="header-section-number">5</span> NephoVis</a></li>
<li><a class="nav-link" href="#level_3"><span class="header-section-number">5.1</span> Level 3</a></li>
<li><a class="nav-link" href="#level_2"><span class="header-section-number">5.2</span> Level 2</a></li>
<li><a class="nav-link" href="#level_1"><span class="header-section-number">5.3</span> Level 1</a></li>
<li>
<a class="nav-link" href="#nephowf"><span class="header-section-number">5.4</span> The full story</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#examining-context-words"><span class="header-section-number">5.4.1</span> Examining context words</a></li></ul>
</li>
<li><a class="nav-link" href="#wishlist"><span class="header-section-number">5.5</span> Wishlist</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/montesmariana/phdThesis/blob/master/viz_4.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/montesmariana/phdThesis/edit/master/viz_4.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Cloudspotting: Visual analytics for distributional semantics</strong>" was written by Mariana Montes. It was last built on 2021-07-08.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
