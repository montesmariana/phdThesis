<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 HDBSCAN | Cloudspotting: Visual analytics for distributional semantics</title>
<meta name="author" content="Mariana Montes">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.2"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.7/header-attrs.js"></script><script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.4/tabs.js"></script><script src="libs/bs3compat-0.2.4/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/autocomplete.js/0/autocomplete.jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Cloudspotting: Visual analytics for distributional semantics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li><a class="" href="acknowledgments.html">Acknowledgments</a></li>
<li class="book-part">Visualization tool</li>
<li><a class="" href="an-interface-to-the-world-of-clouds.html"><span class="header-section-number">1</span> An interface to the world of clouds</a></li>
<li><a class="" href="parameter-settings.html"><span class="header-section-number">2</span> Parameter settings</a></li>
<li><a class="" href="from-corpora-to-clouds.html"><span class="header-section-number">3</span> From corpora to clouds</a></li>
<li><a class="" href="nephovis.html"><span class="header-section-number">4</span> NephoVis</a></li>
<li><a class="active" href="hdbscan.html"><span class="header-section-number">5</span> HDBSCAN</a></li>
<li><a class="" href="annotation-schema.html"><span class="header-section-number">6</span> Annotation schema</a></li>
<li class="book-part">The language of clouds</li>
<li><a class="" href="nonsense-or-no-senses.html"><span class="header-section-number">7</span> Nonsense or no senses?</a></li>
<li><a class="" href="the-nature-of-clouds.html"><span class="header-section-number">8</span> The nature of clouds</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="definitions.html"><span class="header-section-number">A</span> Definitions</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/montesmariana/phdThesis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="hdbscan" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> HDBSCAN<a class="anchor" aria-label="anchor" href="#hdbscan"><i class="fas fa-link"></i></a>
</h1>
<p>The visual exploration is extremely useful for a thorough, qualitative description
of the vector space models. However, such an application can also become an obstacle
to a truly systematic, scientific description. I would avoid talking about objectivity:
neither of us, individually, can truly be objective, and we should instead strive for a
humble admission of our own partiality and a fruitful combination of all our partialities.</p>
<p>When describing a cloud —in particular these clouds that refuse to show clear images,
perfect sense disambiguation, distinct clusters—, how can we ensure that what we
see will be found by other researchers? How can we make our observations, if not
inherently valid, at least reproducible?
This is, after all, the goal we strive for when we embark on quantitative methods.</p>
<p>One tool that can help us systematize our observations, such as the tightness or at least
existEnce of distinct islands on a plot, is
Hierarchical Density-Based Spatial Clustering of Applications (HDBSCAN) <span class="citation">(<a href="references.html#ref-campello.etal_2013" role="doc-biblioref">Campello, Moulavi, and Sander 2013</a>)</span>.
This algorithm basically tries to distinguish dense areas separated by less dense areas<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;For a friendly description of how the algorithm works, the reader is directed to &lt;span class="citation"&gt;&lt;a href="references.html#ref-mcinnes.etal_2016" role="doc-biblioref"&gt;McInnes, Healy, and Astels&lt;/a&gt; (&lt;a href="references.html#ref-mcinnes.etal_2016" role="doc-biblioref"&gt;2016&lt;/a&gt;)&lt;/span&gt;; for an even friendlier explanation, find the authors on YouTube.&lt;/p&gt;'><sup>1</sup></a>
and allows for noisy data. In other words, unlike traditional hierarchical clustering,
it will not try to cluster all of the points in the dataset, but instead may discard those
that are too far from everything else. Moreover, in comparison to its non hierarchical counterpart,
DBSCAN,
<!-- TODO add citation -->
it requires only one parameter to be set <em>a priori</em>, namely <span class="math inline">\(minPts\)</span>.</p>
<p>The <span class="math inline">\(minPts\)</span> parameter indicates the minimum size of a dense group of points to be considered
a cluster. An isolated dense group of points for which <span class="math inline">\(n &lt; minPts\)</span> will be considered noise.
In the case studies described here we have fixed <span class="math inline">\(minPts\)</span> to 8, which seems a reasonable
size for the smallest clusters, but it would be interested to look more systematically into
the effect of lowering this threshold. Rising the threshold, on the other hand, would
increase the proportion of points that are considered noise, which is already very high.</p>
<p>Like other clustering algorithms and the dimensionality reduction techniques,
HDBSCAN can take a token-context matrix as input or a distance matrix. We have used
the transformed distance matrix, that is, the same input fed into the t-SNE algorithm,
for the <code>hdbscan()</code> function of the {dbscan} R package <span class="citation">(<a href="references.html#ref-R-dbscan" role="doc-biblioref">Hahsler and Piekenbrock 2021</a>)</span>. The output includes,
among other things, the cluster assignment, with noise points assigned to a cluster 0,
and epsilon values, which can be used as an estimate of density.</p>
<p>HDBSCAN estimates the density of [the area in which we find] a point <span class="math inline">\(a\)</span> by calculating its
core distance <span class="math inline">\(core_{k}(a)\)</span>, which is the distance to its <span class="math inline">\(k\)</span> nearest neighbor, <span class="math inline">\(k\)</span> being <span class="math inline">\(minPts - 1\)</span>.
Then it recalculates the distance matrix by defining a new distance measure, called
<em>mutual reachability</em>, which is defined as the maximum between the distance between
the items <span class="math inline">\(d(a, b)\)</span> and each of their core distances.</p>
<p><span class="math display">\[d_{mreach-k}(a,b) = max(core_{k}(a), core_{k}(b), d(a,b))\]</span></p>
<!-- TODO Check if that stands like that in the paper and cite appropriate page number -->
<p>Once the algorithm obtains these distances, it uses a single linkage method to create
hierarchical clusters, then using again <span class="math inline">\(minPts\)</span> and other calculations to merge them
into the final selection. The <code>eps</code> (epsilon) values returned by <code>hdbscan()</code> indicate
the height, in the single linkeage tree, at which each point was joined to a cluster,
and can thus be used as a proxy for its “density.”</p>
<p>This is intuitively more clear if we map the clustering solution to colors and the
<code>eps</code> value to transparency in a t-SNE plot with perplexity 30. For the most part,
the results converge, which has two main upsides. In the first place, we have independent
confirmation of the structure found by t-SNE, as a different algorithm processing
the same input returns compatible output. Second, insofar the HDBSCAN output matches
our visual assessment, it can systematize it and render it reproducible.</p>
<p>This wonders notwithstanding, the compatibility between the HDBSCAN output and visual examination is not guaranteed. We might find interesting tokens that are discarded as noise, or structure within
a single HDBSCAN cluster. However, it must be noted that this match (or lack thereof)
has been assessed only between <code><a href="https://rdrr.io/pkg/dbscan/man/hdbscan.html">dbscan::hdbscan()</a></code> with <span class="math inline">\(minPts = 8\)</span> and
<code><a href="https://rdrr.io/pkg/Rtsne/man/Rtsne.html">Rtsne::Rtsne()</a></code> with <span class="math inline">\(perplexity = 30\)</span>. It would be an interesting avenue for further research to experiment with other combinations, and of course UMAP output.</p>

</div>

  <div class="chapter-nav">
<div class="prev"><a href="nephovis.html"><span class="header-section-number">4</span> NephoVis</a></div>
<div class="next"><a href="annotation-schema.html"><span class="header-section-number">6</span> Annotation schema</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li><a class="nav-link" href="#hdbscan"><span class="header-section-number">5</span> HDBSCAN</a></li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/montesmariana/phdThesis/blob/master/viz_5.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/montesmariana/phdThesis/edit/master/viz_5.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Cloudspotting: Visual analytics for distributional semantics</strong>" was written by Mariana Montes. It was last built on 2021-05-04.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>
</html>
