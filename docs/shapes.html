<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 A cloud atlas | Cloudspotting</title>
<meta name="author" content="Mariana Montes">
<meta name="description" content="Clouds come in many shapes. Like the cotton-like masses of droplets we see in our skies, the clouds of word occurrences generated by token-level distributional models may take different forms,...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 5 A cloud atlas | Cloudspotting">
<meta property="og:type" content="book">
<meta property="og:image" content="/assets/covers/front-cover.png">
<meta property="og:description" content="Clouds come in many shapes. Like the cotton-like masses of droplets we see in our skies, the clouds of word occurrences generated by token-level distributional models may take different forms,...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 A cloud atlas | Cloudspotting">
<meta name="twitter:description" content="Clouds come in many shapes. Like the cotton-like masses of droplets we see in our skies, the clouds of word occurrences generated by token-level distributional models may take different forms,...">
<meta name="twitter:image" content="/assets/covers/front-cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="assets/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Visual analytics for distributional semantics">Cloudspotting</a>:
        <small class="text-muted">Visual analytics for distributional semantics</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="acknowledgements.html">Acknowledgements</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">The cloudspotter’s toolkit</li>
<li><a class="" href="workflow.html"><span class="header-section-number">2</span> From corpora to clouds</a></li>
<li><a class="" href="nephovis.html"><span class="header-section-number">3</span> Visualization tools</a></li>
<li><a class="" href="dataset.html"><span class="header-section-number">4</span> Case studies</a></li>
<li class="book-part">The cloudspotter’s handbook</li>
<li><a class="active" href="shapes.html"><span class="header-section-number">5</span> A cloud atlas</a></li>
<li><a class="" href="semantic-interpretation.html"><span class="header-section-number">6</span> The language of clouds</a></li>
<li><a class="" href="no-optimal.html"><span class="header-section-number">7</span> No sky is the best sky</a></li>
<li class="book-part">The cloudspotter’s cheatsheet</li>
<li><a class="" href="conclusions-and-guidelines.html"><span class="header-section-number">8</span> Conclusions and guidelines</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/montesmariana/phdThesis">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="shapes" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> A cloud atlas<a class="anchor" aria-label="anchor" href="#shapes"><i class="fas fa-link"></i></a>
</h1>
<p>Clouds come in many shapes. Like the cotton-like masses of droplets we see in our skies, the clouds of word occurrences generated by token-level distributional models may take different forms, depending on their density, their size and their distinctiveness. “Meaning is use,” “Differences in usage correlate with differences in meaning,” “You shall know a word by the company it keeps”<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Attributed to Ludwig Wittgenstein, Zellig Harris and J. R. Firth respectively, as discussed previously.&lt;/p&gt;"><sup>39</sup></a> and other such catchy slogans sound intuitively accurate, but they hide a wealth of complexity and variation. Like meaning, context is far from orderly, and a myriad of words with different characteristics interact to generate the variation we see in these clouds.</p>
<p>In this chapter, we will try to make sense of the nephological topology, i.e. the variety of shapes that these clouds may take. For this purpose, we will classify <span class="smallcaps">hdbscan</span> clusters mapped to t-<span class="smallcaps">sne</span> representations in a way that can help us understand what we see when we see a cloud. The starting point is the shape that a researcher sees in the t-<span class="smallcaps">sne</span> plot, which will be visually likened to types of meteorological clouds and further described in technical terms.</p>
<p>In Section <a href="shapes.html#theo2-rationale">5.1</a> we will discuss the rationale behind this particular classification and the tools used to operationalize these decisions. A more detailed description of each cloud type and their technical interpretations follows in Section <a href="shapes.html#cloud-types">5.2</a>, while Section <a href="shapes.html#cloud-patterns">5.3</a> zooms back out to compare the characteristics of the different types. Finally, we summarize the chapter in Section <a href="shapes.html#theo2-summary">5.4</a>.</p>
<div id="theo2-rationale" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Rationale of the classification<a class="anchor" aria-label="anchor" href="#theo2-rationale"><i class="fas fa-link"></i></a>
</h2>
<p>When we look at the t-<span class="smallcaps">sne</span> plot of a token-level model, we might see different kinds of shapes. For example, Figure <a href="shapes.html#fig:grey6">5.1</a> shows the t-<span class="smallcaps">sne</span> solution for the same parameter configuration in six different lemmas. Some of them have clear, neat islands that stand out against a large mass, while others look smooth and uniform. Even this uniformity might take rounder or more angular shapes, with bursts of density when three or four tokens get together. As we have mentioned before, a t-<span class="smallcaps">sne</span> solution that looks very uniform typically means that the perplexity is too high, whereas too many small islands suggest that it is too low. However, the models never seem to look better in the other perplexity values we have explored<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;This can be checked in Level 2 of the visualization: &lt;a href="https://qlvl.github.io/NephoVis/" class="uri"&gt;https://qlvl.github.io/NephoVis/&lt;/a&gt;.&lt;/p&gt;'><sup>40</sup></a>.</p>

<div class="figure">
<span style="display:block;" id="fig:grey6"></span>
<img src="phdThesis_files/figure-html/grey6-1.png" alt="Uncoloured t-sne representations of the same parameter settings (bound5lex-ppmiselection-focall) across six different lemmas." width="672"><p class="caption">
Figure 5.1: Uncoloured t-<span class="smallcaps">sne</span> representations of the same parameter settings (bound5lex-<span class="smallcaps">ppmi</span>selection-<span class="smallcaps">foc</span>all) across six different lemmas.
</p>
</div>
<p>Mapping an <span class="smallcaps">hdbscan</span> clustering solution with <span class="math inline">\(minPts = 8\)</span>, like we do in Figure <a href="shapes.html#fig:coloured6">5.2</a> for the same models shown in Figure <a href="shapes.html#fig:grey6">5.1</a>, has proved to be a decent system for identifying the structure we see in these clouds. Clusters tend to match the tighter islands we see, and to highlight dense areas that might be too subtle for our eyes. In some cases, the clustering solution and the visualization do not agree, e.g. clusters are spread around or overlap. This can be taken as a sign of uncertainty, as an indication that the group of tokens involved is much harder to describe and model that others in which both algorithms do agree.</p>
<p>At the stage of the distance matrix, we can establish, for each of our tokens, its similarity to any other token in the model. These similarities are independent from each other: until we do not transform them, they do not even need to respect the triangle inequality<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The triangle inequality refers to a property of metric spaces, according to which the distance between point A and point B cannot be larger than the sum of the distances between A and C and between B and C.&lt;/p&gt;"><sup>41</sup></a>. In contrast, both clustering and visualization add a layer of processing meant to find patterns of similar tokens that are different from the other tokens. The relationships between different pairs of tokens are not independent any more: nearest neighbours are the nearest because other tokens are farther away. Sometimes these patterns are easy to find, which leads to very nice, interpretable clouds, like the top plots in Figure <a href="shapes.html#fig:coloured6">5.2</a>; sometimes they are very hard to find, resulting in lots of noise and/or less defined clouds, like in the last two plots.</p>

<div class="figure">
<span style="display:block;" id="fig:coloured6"></span>
<img src="phdThesis_files/figure-html/coloured6-1.png" alt="T-sne representations of the same parameter settings (bound5lex-ppmiselection-focall) across six different lemmas, coloured coded with hdbscan clustering. Some of the heet clusters are gray because there are more clusters than colours we can clearly distinguish." width="672"><p class="caption">
Figure 5.2: T-<span class="smallcaps">sne</span> representations of the same parameter settings (bound5lex-<span class="smallcaps">ppmi</span>selection-<span class="smallcaps">foc</span>all) across six different lemmas, coloured coded with <span class="smallcaps">hdbscan</span> clustering. Some of the <em>heet</em> clusters are gray because there are more clusters than colours we can clearly distinguish.
</p>
</div>
<p>In this chapter we will look at a classification of the possible shapes, what we know about their genesis and how we can interpret them. The term <em>cloud</em> will refer to an <span class="smallcaps">hdbscan</span> cluster or its noise: each of the coloured patches in the plots of Figure <a href="shapes.html#fig:coloured6">5.2</a>. The model itself, like a picture of the sky, might present multiple clouds of different types.</p>
<p>As we will see in Chapter <a href="semantic-interpretation.html#semantic-interpretation">6</a> as well, the factors that interact to produce a group of similar tokens include the frequency of the context words, whether they co-occur within the sample and their type-level similarity. Clusters dominated by one context word may look similar to clusters dominated by a group of similar context words, and yet have different semantic interpretations. Along the way, we should keep in mind that the patterns observed here are tendencies, rather than rules: they are are a first map around an unknown land that still calls for more adventurous explorers.</p>
<p>The clouds have been classified into five main categories and an additional, orthogonal feature. The classification is based on a combination of t-<span class="smallcaps">sne</span> visualization (perplexity 30) and <span class="smallcaps">hdbscan</span> (<span class="math inline">\(minPts = 8\)</span>) and it would probably be different if other visualization techniques or clustering algorithms are used.</p>
<p>The main categories, which will be described in more detailed in Section <a href="shapes.html#cloud-types">5.2</a>, are, in descending degree of clarity:</p>
<ul>
<li>Cumulus: the most defined clusters, revealing strong patterns that t-<span class="smallcaps">sne</span> and <span class="smallcaps">hdbscan</span> agree on;</li>
<li>Stratocumulus: a slightly looser definition of still decent clouds;</li>
<li>Cirrus: the weakest, smallest, less defined clouds, resulting from weaker patterns that might not be immediately evident without colour coding;</li>
<li>Cumulonimbus: massive clouds;</li>
<li>Cirrostratus: the <span class="smallcaps">hdbscan</span> noise.</li>
</ul>
<p>The inspiration for the names of the types of clouds is visual: the shapes that we would find when mapping the <span class="smallcaps">hdbscan</span> clusters to the t-<span class="smallcaps">sne</span> solution resemble the shapes of different types of meteorological clouds. Admittedly, for those who are familiar with meteorological types of clouds, this is not necessarily the most salient feature. Altitude, temperature and composition, instead, are more relevant in categorizing metereological clouds. As we will see in Section <a href="shapes.html#cloud-patterns">5.3</a>, it could be possible to map the <span class="math inline">\(\varepsilon\)</span> (epsilon) values to the altitudes of the clouds, but that might already take the metaphor too far.</p>
<p>Technical criteria were defined in order to automatically categorize a large number of clusters. They are the result of both theoretical reasoning and trial and error, so that the final classification matches the intuitions derived from visual inspection. In other words: this classification should help us understand what we are looking at based on the shapes we identify, but technical, objective criteria were designed that approximate these intuitions for a larger scale analysis.
These criteria make use of (i) the noise category from <span class="smallcaps">hdbscan</span>, (ii) the relative size of the cluster, (iii) separability indices, (iv) cosine distances between the tokens and (v) <span class="math inline">\(\varepsilon\)</span> values.</p>
<p>Criteria (i) and (ii) are straightforward. Criterion (iii) refers to two measures developed within the <code>semvar</code> package <span class="citation">(<a href="references.html#ref-R-semvar" role="doc-biblioref">Speelman &amp; Heylen 2014</a>; <a href="references.html#ref-speelman.heylen_2017" role="doc-biblioref">Speelman &amp; Heylen 2017</a>)</span>, <code>kNN</code> and <code>SIL</code>: they assess how well the items are clustered based on a distance matrix. In this case, we are looking for the match between the <span class="smallcaps">hdbscan</span> clusters, which take the role of classes, and the euclidean distances within the t-<span class="smallcaps">sne</span> plot. Let’s see how they work.</p>
<p>The first measure, <code>kNN</code>, is a separability index developed by <span class="citation"><a href="references.html#ref-R-semvar" role="doc-biblioref">Speelman &amp; Heylen</a> (<a href="references.html#ref-R-semvar" role="doc-biblioref">2014</a>)</span> based on the proportion of “same class items” among the <span class="math inline">\(k\)</span> nearest neighbours of an item. It answers the following question: looking at the <span class="smallcaps">hdbscan</span> clusters mapped to the t-<span class="smallcaps">sne</span> plot: how pure are the clusters? Do they form tight groups of the same colour, or do they overlap (maybe with noise tokens)? Recall that this has no bearing on the semantic composition of the cluster: instead, it refers to the visual homogeneity of the cluster as mapped to the plot.</p>
<p>For our purposes, it makes sense to set <span class="math inline">\(k\)</span> to 8, the minimum number of tokens that a cluster should have based on the current <span class="smallcaps">hdbscan</span> parameters. As a result, for each token <span class="math inline">\(x\)</span> of a cluster <span class="math inline">\(C\)</span>, if the 8 tokens closest to <span class="math inline">\(x\)</span> in the t-<span class="smallcaps">sne</span> plot belong to the same <span class="smallcaps">hdbscan</span> cluster <span class="math inline">\(C\)</span>, then <code>kNN</code> = 1, and if none of them do, then <code>kNN</code> = 0, regardless of what other class(es) the other items belong to. When the proportions are mixed, the ranking of the neighbours plays a role: if the tokens closest to <span class="math inline">\(x\)</span> belong to <span class="math inline">\(C\)</span>, <code>kNN</code> will be higher; if instead they belong to another class, <code>kNN</code> will be lower. The <code>kNN</code> value of the cloud itself (<span class="math inline">\(C\)</span>) is the mean of the <code>kNN</code> assigned to each of its members. A high <code>kNN</code> means that there are only a few instances of a different class mixed in among the tokens of the cloud: in other words, the cloud is quite compact and pure.
The problem with <code>kNN</code> is that it is biased in favour of large clouds. The larger the cloud is, the higher the proportion of tokens that is entirely surrounded by items of the same cluster. However, clusters with the same <code>kNN</code> and different sizes have different shapes. In order to counteract this bias, we include a <code>SIL</code> threshold.
<code>SIL</code>, or silhouette, is a popular measure of cluster quality that takes into account the distances between the members of a cluster and to the members outside that cluster <span class="citation">(<a href="references.html#ref-rousseeuw_1987" role="doc-biblioref">Rousseeuw 1987</a>)</span>. When the tokens inside a cloud are much closer to each other than to tokens outside the cloud, <code>SIL</code> is highest, with an upper bound of 1. If the cloud is very spread out and/or other clouds are very close by, e.g. because they overlap, <code>SIL</code> will go down. Thus, a combination of high <code>kNN</code> and high <code>SIL</code> results in more compact, homogeneous, isolated clouds.</p>
<p>Criteria (iv) and (v) are the distances between the tokens belonging to the same cluster and the <span class="math inline">\(\varepsilon\)</span> values respectively. The former refer to the original cosine distances between the tokens of the same cluster: the lower they are, the more similar the tokens are to each other. These may be different from the euclidean distances based on the t-<span class="smallcaps">sne</span> plot.
Finally, <span class="math inline">\(\varepsilon\)</span> values are extracted from the <span class="smallcaps">hdbscan</span> clustering and were explained in Chapter <a href="workflow.html#hdbscan">2.2.4</a>. The lower the <span class="math inline">\(\varepsilon\)</span>, the denser the area of the token, i.e. the smaller the area covered by its nearest neighbours. Noise tokens have typically the highest <span class="math inline">\(\varepsilon\)</span> values: they are very disperse, and therefore the radius required to find 8 near neighbours is larger. The members of a cluster might have a variety of <span class="math inline">\(\varepsilon\)</span> values: the lower the <span class="math inline">\(\varepsilon\)</span>, the closer it is to the core, i.e. the denser area of the cluster. To be clear, I am not making any claims about the technical or semantic interpretation of <span class="math inline">\(\varepsilon\)</span> right now. A brief discussion on this is given in Chapter <a href="semantic-interpretation.html#semantic-interpretation">6</a>. Instead, the utility of these values lies in their straightforward mapping to the visual effects of the plot. If the <span class="math inline">\(\varepsilon\)</span> values of a clustered token are close to those of noise tokens, the cluster is, in a way, submerged in noise: <span class="smallcaps">hdbscan</span> is finding patterns that t-<span class="smallcaps">sne</span> does not. On the contrary, if the <span class="math inline">\(\varepsilon\)</span> values are much lower than for noise tokens, the cloud stands out.</p>
<p>The five criteria are combined in the following algorithm to classify the different clusters.</p>
<ol style="list-style-type: decimal">
<li>The noise is categorised as a Cirrostratus cloud.</li>
<li>The clusters that cover at least 50% of the modelled tokens (including noise) are Cumulonimbus clouds.</li>
<li>The clearest, roundest, densest clusters are Cumulus clouds. They must at least have a <code>kNN</code> <span class="math inline">\(\ge\)</span> 0.75, <code>SIL</code> <span class="math inline">\(\ge\)</span> 0.5 and mean cosine distance <span class="math inline">\(\le\)</span> 0.5. In addition, less than 10% of the tokens in the cluster may have a higher <span class="math inline">\(\varepsilon\)</span> than the lowest noise <span class="math inline">\(\varepsilon\)</span>, or the noise in the model must cover less than 10% of the tokens.</li>
<li>The smallest clusters, i.e covering less than 10% of the modelled tokens, if 75% of the model is noise or <code>kNN</code> &lt; 0.7, are Cirrus clouds.</li>
<li>The most decent of the remaining clusters are Stratocumulus clouds. They must have <code>kNN</code> <span class="math inline">\(\ge\)</span> 0.7, <code>SIL</code> <span class="math inline">\(\ge\)</span> 0.5 or mean distance <span class="math inline">\(\le\)</span> 0.2. In addition, either more than half of the tokens have lower <span class="math inline">\(\varepsilon\)</span> than the noise tokens or no more than 10% of the modelled tokens are noise.</li>
<li>The remaining clusters are Cirrus clouds.</li>
</ol>
<p>In addition, the category of Hail groups the clouds with at least 8 identical tokens; these can belong to any of the other classes.</p>
<p>Table <a href="shapes.html#tab:cloudFreqs">5.1</a> shows the number of clouds, either in medoid models or across all models, belonging to each of the categories. By definition, almost all models have a Cirrostratus cloud, i.e. noise tokens, and no more than one Cumulonimbus cloud, i.e. massive cloud. The rest of the clouds may occur more than once in the same model. The number of clouds that also belongs to the Hail category is given in parentheses.</p>
<div class="inline-table"><table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; margin-left: auto; margin-right: auto;'>
<caption>
<span id="tab:cloudFreqs">Table 5.1: </span>Number of clouds of each type per medoid or model in general; in parenthesis, the number of Hail clouds is specified.
</caption>
<thead><tr>
<th style="text-align:left;">
Cloud type
</th>
<th style="text-align:left;">
Clouds in Medoids
</th>
<th style="text-align:left;">
All clouds
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Cumulus
</td>
<td style="text-align:left;">
267 (25)
</td>
<td style="text-align:left;">
6899 (459)
</td>
</tr>
<tr>
<td style="text-align:left;">
Stratocumulus
</td>
<td style="text-align:left;">
412 (34)
</td>
<td style="text-align:left;">
8777 (692)
</td>
</tr>
<tr>
<td style="text-align:left;">
Cirrus
</td>
<td style="text-align:left;">
342 (2)
</td>
<td style="text-align:left;">
9477 (32)
</td>
</tr>
<tr>
<td style="text-align:left;">
Cumulonimbus
</td>
<td style="text-align:left;">
42 (15)
</td>
<td style="text-align:left;">
1025 (221)
</td>
</tr>
<tr>
<td style="text-align:left;">
Cirrostratus
</td>
<td style="text-align:left;">
254 (1)
</td>
<td style="text-align:left;">
6453 (3)
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="cloud-types" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Types of clouds<a class="anchor" aria-label="anchor" href="#cloud-types"><i class="fas fa-link"></i></a>
</h2>
<p>In this section, the different cloud shapes will be described in some detail. Their general look on a plot will be compared to pictures of meteorological clouds and I will offer a technical interpretation for them.</p>
<p>Before going into the descriptions, an explanation of one of the measures that takes part in the technical interpretation is in order: the <span class="math inline">\(F\)</span>-score.
Clouds can be represented by the set of context words co-occurring with the tokens that compose it. The relationship between each context word <span class="math inline">\(cw\)</span> and the cluster may be described in terms of precision and recall, already mentioned in Section <a href="nephovis.html#shiny">3.5</a>: <strong>precision</strong> indicates the proportion of tokens co-occurring with <span class="math inline">\(cw\)</span> that also belong to the cluster, while <strong>recall</strong> indicates the proportion of tokens within the cluster that co-occur with <span class="math inline">\(cw\)</span>. For example, if all the tokens in a cluster co-occur with the definite determiner <em>de</em>, <em>de</em> has a recall of 1 for that cluster; but in all likelihood, these tokens only constitute around 40% of the tokens co-occurring with <em>de</em> across the sample, resulting in a precision of 0.4. Both values can be summarized in an <span class="math inline">\(F\)</span>-score, which is defined as the (weighted) harmonic mean of precision and recall. In this case, the unweighted <span class="math inline">\(F\)</span>, that is, where precision and recall are deemed equally important, equals 0.57. The higher the <span class="math inline">\(F\)</span>, the better the representativeness of the context word in relation to the cluster: an <span class="math inline">\(F\)</span> of 1 indicates that all the tokens co-occurring with that word belong to that cluster, and all the tokens in that cluster co-occur with that word, while an <span class="math inline">\(F\)</span> of 0 indicates the absolute lack of overlap between the domain of the context word and the clouds.
When a context word has a high <span class="math inline">\(F\)</span> in relation to a cluster, that cluster is <em>dominated</em> by the context word. This is a handy term that will come up frequently as I describe types of clouds, and especially in Chapter <a href="semantic-interpretation.html#semantic-interpretation">6</a>. In general, only context words that co-occur with at least two tokens within a cluster are considered, to avoid inflating the value of <em>hapax legomena</em>.</p>
<div id="cumulus-clouds" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> Cumulus clouds<a class="anchor" aria-label="anchor" href="#cumulus-clouds"><i class="fas fa-link"></i></a>
</h3>
<p>In meteorological terms, Cumulus clouds look puffy: they are our prototypical and ideal images of clouds. As token-level clouds, they also correspond to our ideal images of clusters: mostly roundish, visually salient because of their density and isolation. We would be able to find them even without colour-coding: both t-<span class="smallcaps">sne</span> and <span class="smallcaps">hdbscan</span> agree that those tokens belong together.
In Figure <a href="shapes.html#fig:cumulus">5.3</a>, the four rightmost clusters, in green, light blue, yellow and blue, are Cumulus; the rest are Stratocumulus clouds.</p>

<div class="figure">
<span style="display:block;" id="fig:cumulus"></span>
<img src="assets/img/cumulus.jpg" alt="Example of Cumulus cloud: inspiration on the left, plot example on the right (nobound10lex-ppmiweight-focall of dof). Picture by Glg, edited by User:drini - photo taken by Glg, CC BY-SA 2.0 de, https://commons.wikimedia.org/w/index.php?curid=3443830." width="50%"><img src="phdThesis_files/figure-html/cumulus-2.png" alt="Example of Cumulus cloud: inspiration on the left, plot example on the right (nobound10lex-ppmiweight-focall of dof). Picture by Glg, edited by User:drini - photo taken by Glg, CC BY-SA 2.0 de, https://commons.wikimedia.org/w/index.php?curid=3443830." width="50%"><p class="caption">
Figure 5.3: Example of Cumulus cloud: inspiration on the left, plot example on the right (nobound10lex-<span class="smallcaps">ppmi</span>weight-<span class="smallcaps">foc</span>all of <em>dof</em>). Picture by Glg, edited by User:drini - photo taken by Glg, CC BY-SA 2.0 de, <a href="https://commons.wikimedia.org/w/index.php?curid=3443830" class="uri">https://commons.wikimedia.org/w/index.php?curid=3443830</a>.
</p>
</div>
<p>Cumulus clouds are defined by a number of different measures with strict values, after excluding Cirrostratus (noise) and Cumulonimbus (massive clouds).
First, the clusters need to have both <code>kNN</code> <span class="math inline">\(\ge\)</span> 0.75 and <code>SIL</code> <span class="math inline">\(\ge\)</span> 0.5, as well as a mean pairwise cosine distance between the tokens of 0.5 or lower. The combination of these three strict thresholds ensures quite pure, compact, isolated clusters: they don’t visually overlap with other clusters or noise. The final requirement makes sure that the cloud stands out against the noise. One of the ways it can achieve this is by having an <span class="math inline">\(\varepsilon\)</span> lower than the minimum noise <span class="math inline">\(\varepsilon\)</span> in at least 90% of the tokens: at least 9 out of 10 tokens stand out. However, in models without any noise or with very little, noise <span class="math inline">\(\varepsilon\)</span> values might be particularly high, so this threshold is not applied in models with less than 10% noise.</p>
<p>Most of these clouds are characterized by one context word with high precision and recall for the cluster. In fact, 75% of these clouds have a context word with an <span class="math inline">\(F\)</span> of
0.72 or higher, while in 75% of the rest of the clouds the highest <span class="math inline">\(F\)</span> is lower than that. These top context words also tend to have high <span class="smallcaps">pmi</span>, but some may even have negative <span class="smallcaps">pmi</span>.</p>
<p>The lemmas with the highest proportion of Cumulus clouds are <em>heffen</em> ‘to levy/to lift,’ <em>hachelijk</em> ‘dangerous/critical,’ <em>schaal</em> ‘scale/dish,’ <em>gemeen</em> ‘common/mean…’ and <em>stof</em> ‘substance/dust….’ They are all cases with strong collocational patterns of the kind discussed in Section <a href="semantic-interpretation.html#collocation">6.2</a>. Lemmas that repel Cumulus clouds, on the other hand, such as <em>haten</em> ‘to hate,’ <em>geestig</em> ‘witty,’ <em>gekleurd</em> ‘coloured’ and <em>hoekig</em> ‘angular,’ lack such collocational patterns and instead form more uniform, fuzzy pictures.</p>
</div>
<div id="stratocumulus-clouds" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> Stratocumulus clouds<a class="anchor" aria-label="anchor" href="#stratocumulus-clouds"><i class="fas fa-link"></i></a>
</h3>
<p>In meteorological terms, Stratus clouds are flat or smooth clouds: Stratocumulus clouds are then a flatter, less compact version of the Cumulus clouds discussed above. In Figure <a href="shapes.html#fig:stratocumulus">5.4</a>, all three clouds are Stratocumulus: from the large, disperse light blue cloud, to the more stretched orange one and the more compact green cloud that lost three points in the bottom right.</p>

<div class="figure">
<span style="display:block;" id="fig:stratocumulus"></span>
<img src="assets/img/stratocumulus.jpg" alt="Example of Stratocumulus cloud: inspiration on the left, plot example on the right (bound5all-ppmino-focall of heffen). Picture by Joydeep - Own work, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=20357040." width="50%"><img src="phdThesis_files/figure-html/stratocumulus-2.png" alt="Example of Stratocumulus cloud: inspiration on the left, plot example on the right (bound5all-ppmino-focall of heffen). Picture by Joydeep - Own work, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=20357040." width="50%"><p class="caption">
Figure 5.4: Example of Stratocumulus cloud: inspiration on the left, plot example on the right (bound5all-<span class="smallcaps">ppmi</span>no-<span class="smallcaps">foc</span>all of <em>heffen</em>). Picture by Joydeep - Own work, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=20357040" class="uri">https://commons.wikimedia.org/w/index.php?curid=20357040</a>.
</p>
</div>
<p>The definition of Stratocumulus clouds takes a number of different measures and applies less strict thresholds than for Cumulus clouds. First the Cirrostratus, Cumulonimbus and Cumulus must classified, and the smallest clouds, either in noisy models or without high <code>kNN</code>, must be reserved for Cirrus. On the remaining clouds we apply two filters. First, they must either have <code>kNN</code> <span class="math inline">\(\ge\)</span> 0.7, <code>SIL</code> <span class="math inline">\(\ge\)</span> 0.5 or mean pairwise cosine distance <span class="math inline">\(\le\)</span> 0.2. Second, either more than half the tokens have an <span class="math inline">\(\varepsilon\)</span> value below the minimum noise <span class="math inline">\(\varepsilon\)</span> value or the percentage of noise tokens in the model is lower than 10%.</p>
<p>Stratocumulus clouds are generally large: while 75% of either Cumulus or Cirrus have
28 tokens or fewer, half the Stratocumulus have 26 or more.
However, in comparison to Cirrus they tend to have lower type-token ratio of context words<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Either counting all context words in the cluster or just those that are enough to cover the tokens.&lt;/p&gt;"><sup>42</sup></a> and higher <span class="math inline">\(F\)</span> values of their representative context words. In addition, the mean cosine distance between the tokens tend to be comparable to that in Cirrus clouds, in spite of the difference in size: in other words, they are larger but more compact and more clearly defined.</p>
<p>While lemmas that prefer Cumulus clouds tend to avoid Cirrus clouds and vice versa, the relationship with Stratocumulus is not so straightforward. A preference for Cumulus tends to go hand in hand with a preference for Stratocumulus, as in the case of <em>heffen</em> ‘to levy/to lift,’ but that is not necessarily the case. Both <em>gemeen</em> ‘common/mean…’ and <em>stof</em> ‘substance/dust…’ prefer Cumulus against either Cirrus or Stratocumulus, and <em>haten</em> ‘to hate,’ which prefers Cirrus to Cumulus, does have a slight preference for Stratocumulus too. One lemma that prefers Stratocumulus over anything else is <em>heilzaam</em> ‘healthy/beneficial,’ which is described in Section <a href="semantic-interpretation.html#heilzaam">6.2.1</a>: even though its clusters tend to be dominated by clear collocates of the target, they are semantically heterogeneous.</p>
</div>
<div id="cirrus-clouds" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> Cirrus clouds<a class="anchor" aria-label="anchor" href="#cirrus-clouds"><i class="fas fa-link"></i></a>
</h3>
<p>From a meteorological perspective, Cirrus clouds are high up and wispy. In these plots, the description translate to typically small, disperse clouds that we might not be able to isolate without the help of <span class="smallcaps">hdbscan</span>. In Figure <a href="shapes.html#fig:cirrus">5.5</a>, both clouds belong to this category.</p>

<div class="figure">
<span style="display:block;" id="fig:cirrus"></span>
<img src="assets/img/cirrus.jpg" alt="Example of Cirrus cloud: inspiration on the left, plot example on the right (bound5all-ppmiselection-focall of herstructureren). Picture by Dmitry Makeev - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=85153684." width="50%"><img src="phdThesis_files/figure-html/cirrus-2.png" alt="Example of Cirrus cloud: inspiration on the left, plot example on the right (bound5all-ppmiselection-focall of herstructureren). Picture by Dmitry Makeev - Own work, CC BY-SA 4.0, https://commons.wikimedia.org/w/index.php?curid=85153684." width="50%"><p class="caption">
Figure 5.5: Example of Cirrus cloud: inspiration on the left, plot example on the right (bound5all-<span class="smallcaps">ppmi</span>selection-<span class="smallcaps">foc</span>all of <em>herstructureren</em>). Picture by Dmitry Makeev - Own work, CC BY-SA 4.0, <a href="https://commons.wikimedia.org/w/index.php?curid=85153684" class="uri">https://commons.wikimedia.org/w/index.php?curid=85153684</a>.
</p>
</div>
<p>Cirrus clouds are defined as small clouds in noisy models or with a low <code>kNN</code>, i.e. substantial overlap between the cloud and other clusters or noise tokens, as well as the remainder of the clouds after defining the other four categories.
They are generally small, like Cumulus clouds: in a few cases they cover more than 100 points, and they would be considered Stratocumulus if their <code>SIL</code> was higher and either their <code>kNN</code> or the percentage of tokens below noise was higher too.
In spite of their size, they have a high type-token ratio of context words and these context words have low <span class="math inline">\(F\)</span>, even compared to larger Stratocumulus clouds: in other words, they tend not to be represented by single powerful collocates, and instead their tokens co-occur with many different, infrequent words.</p>
<p>The weakness of their patterns should be seen as a tendency, rather than a law. They are more likely than Cumulus clouds to be semantically heterogeneous and hard to interpret, but it is not necessarily the case. In some lemmas with tendency to a more uniform internal structure, Cirrus clouds may group the few patterns that emerge at all.
Lemmas that prefer Cirrus clouds, such as <em>geestig</em> ‘witty,’ <em>gekleurd</em> ‘coloured,’ <em>hoekig</em> ‘angular’ and <em>haten</em> ‘to hate,’ are precisely characterized by uniform-looking plots, low frequency collocates and weak patterns overall.</p>
</div>
<div id="cumulonimbus-clouds" class="section level3" number="5.2.4">
<h3>
<span class="header-section-number">5.2.4</span> Cumulonimbus clouds<a class="anchor" aria-label="anchor" href="#cumulonimbus-clouds"><i class="fas fa-link"></i></a>
</h3>
<p>In the physical world, Cumulonimbus clouds are puffy (as indicated by the prefix <em>Cumulo-</em>) and bring rain and storm (<em>nimbus</em>). They are massive, towering clouds that may lie as low as Cumulus clouds and reach as high as Cirrus clouds. In our models, the Cumulonimbus category (the largest cluster in Figure <a href="shapes.html#fig:cumulonimbus">5.6</a>) is the least frequent, but when it does occur, it dominates the picture.</p>
<p>Cumulonimbus clouds are minimally defined as clouds that cover at least 50% of the modelled tokens, including those discarded as noise. In practice, half of them cover at least 58.7% of the model or more, reaching as much as 95.7%.
Next to them, we typically have one more cluster (in 85.6% of the cases);
occasionally we may have two (11.1%) or even up to 5.
The smaller cluster next to the massive Cumulonimbus tends to be a Cumulus, but all combinations are attested.</p>

<div class="figure">
<span style="display:block;" id="fig:cumulonimbus"></span>
<img src="assets/img/cumulonimbus.jpg" alt="Example of Cumulonimbus cloud: inspiration on the left, plot example on the right (bound10all-ppmiweight-focall of stof). Picture by fir0002flagstaffotos [at] gmail.comCanon 20D + Canon 17-40mm f/4 L, GFDL 1.2, https://commons.wikimedia.org/w/index.php?curid=887553." width="50%"><img src="phdThesis_files/figure-html/cumulonimbus-2.png" alt="Example of Cumulonimbus cloud: inspiration on the left, plot example on the right (bound10all-ppmiweight-focall of stof). Picture by fir0002flagstaffotos [at] gmail.comCanon 20D + Canon 17-40mm f/4 L, GFDL 1.2, https://commons.wikimedia.org/w/index.php?curid=887553." width="50%"><p class="caption">
Figure 5.6: Example of Cumulonimbus cloud: inspiration on the left, plot example on the right (bound10all-<span class="smallcaps">ppmi</span>weight-<span class="smallcaps">foc</span>all of <em>stof</em>). Picture by fir0002flagstaffotos [at] gmail.comCanon 20D + Canon 17-40mm f/4 L, GFDL 1.2, <a href="https://commons.wikimedia.org/w/index.php?curid=887553" class="uri">https://commons.wikimedia.org/w/index.php?curid=887553</a>.
</p>
</div>
<p>The most typical situation in which we encounter a Cumulonimbus cloud is when a small group of tokens is very tight, but very different from everything else, and the rest of the tokens are not distinctive enough to form different clusters. Most of these tokens are then grouped in this large, normally disperse Cumulonimbus cloud, which may seem to have inner structure captured by t-<span class="smallcaps">sne</span> but not by <span class="smallcaps">hdbscan</span>. The small group of tokens may be brought together by a set of similar context words (see Section <a href="semantic-interpretation.html#semantic-preference">6.4</a>), but most typically they represent an idiomatic expression.</p>
<p>In fact, the lemmas with a strong preference for this format, with Cumulonimbus in more than a third of their models, have a very clear idiomatic expression responsible for the small Cumulus clouds, so that the differences among the rest of the tokens are smoothed. These are <em>gemeen</em> ‘common/mean…,’ <em>stof</em> ‘substance/dust…’ and <em>schaal</em> ‘scale/dish.’ In contrast, lemmas that barely have any Cumulonimbus clouds (in less than 5% of the models), such as <em>herroepen</em> ‘to recant/to void,’ <em>hoekig</em> ‘angular,’ <em>diskwalificeren</em> ‘to disqualify’ and <em>horde</em> ‘horde/hurdle,’ lack such a strong pattern and have groups with similar frequencies and mutual differences instead.</p>
<p>In the case of <em>gemeen</em> ‘common/mean…,’ the tight cloud represents the expression <em>grootste gemene deler</em> ‘greatest common divisor’: both <em>groot</em> ‘big, great’ and <em>deler</em> ‘divisor’ co-occur with a large number of tokens but are, at the type-level, different from each other and to everything else. As a result, the token-level vectors of the <em>grootste gemene deler</em> ‘greatest common divisor’ tokens will be very similar to other tokens instantiating the same expression, and very different from everything else. Similarly, the pattern most frequently tied to this phenomenon in the case of <em>stof</em> ‘substance/dust…’ is <em>stof doen opwaaien</em> ‘lit. to stir up dust,’ an idiomatic expression referring to controversial actions and situations. <em>Schaal</em> ‘scale/dish,’ on the other hand, has two main idiomatic contexts that generate Cumulonimbus clouds, discussed in Section <a href="semantic-interpretation.html#schaal">6.2.2</a>.</p>
<p>The rest of the tokens, i.e. the Cumulonimbus cloud itself, is not defined by either a strong dominating context word or group of similar context words, but instead is defined against this stronger, small cloud. Cumulonimbus clouds are not huge clouds of similar tokens, but a mass of tokens that is not structured enough in opposition to the distinctive small cloud that is next to it. It may have dense areas inside of it, but they are not semantically linked to each other. The reason they are a cluster is not because the tokens are similar to each other, as much as because the tokens in the small partner are very coherent and different from everything else. The mean distance between tokens in a Cumulonimbus cloud is typically very large, sometimes as large as within Cirrostratus (noise), and significantly larger than within other kinds of clouds — although the few examples of Cirrus and Stratocumulus co-occurring with Cumulonimbus also have relatively large mean distances.
For a discussion on the semantic interpretation of these clouds, see Section <a href="semantic-interpretation.html#openchoice">6.5</a>.</p>
</div>
<div id="cirrostratus-clouds" class="section level3" number="5.2.5">
<h3>
<span class="header-section-number">5.2.5</span> Cirrostratus clouds<a class="anchor" aria-label="anchor" href="#cirrostratus-clouds"><i class="fas fa-link"></i></a>
</h3>
<p>In meteorological terms, Cirrostratus clouds are high (<em>Cirro-</em>), flat and smooth (<em>-stratus</em>) clouds. For our purposes, they just indicate the noise tokens. They lie in the background of (almost) all our clouds and constitute 100% of two of the medoids. Considering the entirety of the models, 146 (2.3%) of them are fully Cirrostratus clouds (Figure <a href="shapes.html#fig:cirrostratus">5.7</a>).</p>

<div class="figure">
<span style="display:block;" id="fig:cirrostratus"></span>
<img src="assets/img/cirrostratus.jpg" alt="Example of Cirrostratus cloud: inspiration on the left, model with 100% noise on the right (nobound10lex-ppmino-focall of hoopvol). CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=100381." width="50%"><img src="phdThesis_files/figure-html/cirrostratus-2.png" alt="Example of Cirrostratus cloud: inspiration on the left, model with 100% noise on the right (nobound10lex-ppmino-focall of hoopvol). CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=100381." width="50%"><p class="caption">
Figure 5.7: Example of Cirrostratus cloud: inspiration on the left, model with 100% noise on the right (nobound10lex-<span class="smallcaps">ppmi</span>no-<span class="smallcaps">foc</span>all of <em>hoopvol</em>). CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=100381" class="uri">https://commons.wikimedia.org/w/index.php?curid=100381</a>.
</p>
</div>
<p>It might be interesting to cluster the subset of tokens that make up these clouds, at least for some lemmas, but that is not pursued in these studies. It would require a deeper investigation of how <span class="smallcaps">hdbscan</span> works with these models, why tokens are sometimes not clustered and how it interacts with parameters like <span class="math inline">\(minPts\)</span>. I will not try to semantically interpret these clouds, but they are always present and affect how other clouds are defined.</p>
</div>
<div id="hail" class="section level3" number="5.2.6">
<h3>
<span class="header-section-number">5.2.6</span> Hail<a class="anchor" aria-label="anchor" href="#hail"><i class="fas fa-link"></i></a>
</h3>
<p>The final, orthogonal category can apply to any cloud, and often describes a section of it rather than the full cloud. It responds to a special criterion, to highlight the occasional phenomenon of superdense clusters. In Figure <a href="shapes.html#fig:hail">5.8</a>, three of the clouds (light blue, yellow and red) are Cumulus, while the rest are Stratocumulus; all of them but the yellow and green clouds present Hail, that is, extremely tight, dense circles of identical tokens. These are clouds with at least 8 identical tokens, defined as having a cosine distance lower than <span class="math inline">\(10^{-6}\)</span>.</p>
<p>As we can see in the blue cloud, one cluster may have more than one piece of Hail, as is the case in some Cumulonimbus clouds. In fact, in relative numbers, the cloud type with a higher tendency to generate Hail is the Cumulonimbus
(in 21.56% of the cases), which is very fitting for a cloud that brings storms. Overall,
5% of the clouds, in 924 different models, have these characteristics.
<!-- They are mostly `LEMMAREL` models or `FOC-WIN:3 + FOC-POS:lex` models. -->
<!-- NOTE add data based on all models --></p>

<div class="figure">
<span style="display:block;" id="fig:hail"></span>
<img src="assets/img/hail.jpg" alt="Example of cloud with hail: inspiration on the left, plot example on the right (rel1-ppmiselection-focall of heet). Picture by Tiia Monto, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=88743807" width="50%"><img src="phdThesis_files/figure-html/hail-2.png" alt="Example of cloud with hail: inspiration on the left, plot example on the right (rel1-ppmiselection-focall of heet). Picture by Tiia Monto, CC BY-SA 3.0, https://commons.wikimedia.org/w/index.php?curid=88743807" width="50%"><p class="caption">
Figure 5.8: Example of cloud with hail: inspiration on the left, plot example on the right (<span class="smallcaps">rel</span>1-<span class="smallcaps">ppmi</span>selection-<span class="smallcaps">foc</span>all of <em>heet</em>). Picture by Tiia Monto, CC BY-SA 3.0, <a href="https://commons.wikimedia.org/w/index.php?curid=88743807" class="uri">https://commons.wikimedia.org/w/index.php?curid=88743807</a>
</p>
</div>
<p>These conditions are prompted by a low number of context words per token and a low type-token ratio (<span class="smallcaps">ttr</span>) of these context words (see Figure <a href="shapes.html#fig:cwFreq">5.9</a>).
TTR is a measure of complexity computed as the number of different context words, i.e. types, divided by the total number of occurrences, i.e tokens. A <span class="smallcaps">ttr</span> of 1 indicates that all words are only used once, while a lower <span class="smallcaps">ttr</span> results from different words occurring multiple times. In this case, the higher the <span class="smallcaps">ttr</span>, the richer the variety of context words captured by the model for the tokens in the cluster.
Hail only covers a minority of the clouds, but it is clear that both the <span class="smallcaps">ttr</span> and the number of context words per token play a role, with lower values for the Hail clouds.
Hail tends to emerge in very restrictive models where many tokens can be grouped together because they have identical vectors: they shared the few words that survived the thresholds. They often reveal the strongest context words, i.e. those that also dominate in other clouds. But as we will see in Section <a href="semantic-interpretation.html#collocation">6.2</a>, the dominating context word is not always indicative of a sense. Moreover, a larger variation in the context can give us a richer, more nuanced picture of the distributional behaviour of the target word.</p>

<div class="figure">
<span style="display:block;" id="fig:cwFreq"></span>
<img src="phdThesis_files/figure-html/cwFreq-1.png" alt="Mapping between the type-token ratio of the context words and the mean number of context words per token in a cluster of a medoid, by whether the cloud has Hail." width="672"><p class="caption">
Figure 5.9: Mapping between the type-token ratio of the context words and the mean number of context words per token in a cluster of a medoid, by whether the cloud has Hail.
</p>
</div>
<p>We might be tempted to consider these clouds idiomatic expressions: they match, visually, what we think a representation of idiomatic expressions would be like. Instead, they match groups of context words that occur very frequently in a very short distance (either in terms of bag-of-words or dependency relations) to the target. It tells us something about bigrams: about how often <em>niet</em> ‘not’ occurs close to <em>harden</em> ‘to tolerate’; <em>van</em> ‘of’ to <em>staal</em> ‘steel/sample,’ <em>op</em> ‘on’ to <em>spot</em> ‘spotlight,’ or <em>hang_ijzer</em> ‘iron’ to <em>heet</em> ‘hot.’ At the same time, all the <em>harden</em> ‘to tolerate’ tokens co-occurring with <em>niet</em> ‘not’ are brought together in one pattern that disregards any other possible co-occurrence, any possible internal variation.</p>
</div>
</div>
<div id="cloud-patterns" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Patterns across types of clouds<a class="anchor" aria-label="anchor" href="#cloud-patterns"><i class="fas fa-link"></i></a>
</h2>
<p>Beyond the features used as formal criteria to define the types of clouds, we can find patterns across other relevant features. Most of these features are technical properties that can be extracted automatically from our dataset: the representativeness of context words <span class="math inline">\(F\)</span>, their <span class="smallcaps">pmi</span> with the target lemma, the type-token ratio of context words co-occurring with the tokens in a cluster (<span class="smallcaps">ttr</span>), and their <span class="math inline">\(\varepsilon\)</span> values. In addition, we will take advantage of the semantic annotation and look at the entropy of the clouds, i.e. how homogeneous they are in terms of dictionary senses. The figures in this section represent clusters in the medoids, because including all the models results in a more cluttered version of the same patterns.</p>
<p>First, we will look at the properties of the most representative context word in each cluster, defined as the context word with a minimum frequency of 2 within the cluster and the highest <span class="math inline">\(F\)</span>-score (explained in Section <a href="shapes.html#cloud-types">5.2</a>). Figure <a href="shapes.html#fig:fscorePmi">5.10</a> plots the context words’ <span class="math inline">\(F\)</span> on the horizontal axis and, on the vertical axis, their <span class="smallcaps">pmi</span> with the corresponding target lemma, based on a symmetric window of 4 words to either side. The types of clouds are mapped to the colour of the points and the fill of the marginal boxplots. Therefore, a bright purple spot at <span class="math inline">\(x = 0.941\)</span> and <span class="math inline">\(y = 9.89\)</span> represents a Cumulus cloud whose most representative context word, e.g. <em>deler</em> ‘divisor,’ has an <span class="math inline">\(F\)</span> of 0.941, i.e. it is a very good cue, and a <span class="smallcaps">pmi</span> with the lemma of its model, e.g. <em>gemeen</em>, equal to 9.8, which is very high.</p>
<p>We can see that Cirrostratus clouds (noise) tend to have low <span class="math inline">\(F\)</span> context words, and that these tend to have very low <span class="smallcaps">pmi</span> values with the targets. Cumulus clouds, on the other side, have the highest <span class="math inline">\(F\)</span>, i.e. they tend to be dominated by one context word, and these context words tend to have high <span class="smallcaps">pmi</span>. Cirrus and Cumulonimbus clouds have lower values than Cumulus clouds across both dimensions, while Stratocumulus spans in between. Moreover, the correlation between <span class="math inline">\(F\)</span> and <span class="smallcaps">pmi</span> is moderate to weak, with a higher value among Cumulus clouds (Spearman’s <span class="math inline">\(\rho\)</span> = 0.55, p-value &lt; 0.001) and much lower and/or less significant for Cumulonimbus and Cirrostratus
(<span class="math inline">\(\rho\)</span> = 0.05, p-value <span class="math inline">\(\approx\)</span> 0.085 and <span class="math inline">\(\rho\)</span> = -0.15, p-value &lt; 0.001, respectively), with minimal changes for different <code>PPMI</code> settings.</p>

<div class="figure">
<span style="display:block;" id="fig:fscorePmi"></span>
<img src="phdThesis_files/figure-html/fscorePmi-1.png" alt="Mapping between the highest \(F\) between the clouds of the medoids and a context word and that context word’s pmi with the target, coloured by cloud type." width="672"><p class="caption">
Figure 5.10: Mapping between the highest <span class="math inline">\(F\)</span> between the clouds of the medoids and a context word and that context word’s <span class="smallcaps">pmi</span> with the target, coloured by cloud type.
</p>
</div>
<p>Second, we will look at the relationship between the highest <span class="math inline">\(F\)</span>-score and the type-token ratio (<span class="smallcaps">ttr</span>, described in Section <a href="shapes.html#hail">5.2.6</a>). They are mapped to the horizontal and vertical axes respectively in Figure <a href="shapes.html#fig:ttFscore">5.11</a>. As we can see, both Cirrus and Cirrostratus clouds tend to have a higher <span class="smallcaps">ttr</span> than the rest; indeed, they also tend not to have Hail (see Table <a href="shapes.html#tab:cloudFreqs">5.1</a>). In general, the more different context words we find in the cluster — the higher the <span class="smallcaps">ttr</span> —, the lower is the representativity of the strongest context word — the lower the <span class="math inline">\(F\)</span> —, but there is a really wide range of variation, and each type of cloud has a different profile. Cirrostratus clouds have higher <span class="smallcaps">ttr</span> and lower <span class="math inline">\(F\)</span>, while the opposite defines Cumulus clouds; Stratocumulus and Cumulonimbus clouds have similar <span class="smallcaps">ttr</span> to Cumulus but lower or much lower <span class="math inline">\(F\)</span>, and the <span class="smallcaps">ttr</span> in Cirrus clouds is comparable to Cirrostratus, with a much higher <span class="math inline">\(F\)</span>-score.
In short, both the variety of context words co-occurring with the tokens of a cluster and the <span class="math inline">\(F\)</span>-score of the most relevant of them play a role in the shape that the clouds take. This relationship notwithstanding, we should note that other factors also intervene, both in the constitution of the clusters and their semantic interpretation, such as the representativeness of other context words and the type-level distances between them.</p>

<div class="figure">
<span style="display:block;" id="fig:ttFscore"></span>
<img src="phdThesis_files/figure-html/ttFscore-1.png" alt="Mapping between the highest \(F\) of a context word to a cluster and the type-token ratio (ttr) of context words in the cluster, coloured by cloud type." width="672"><p class="caption">
Figure 5.11: Mapping between the highest <span class="math inline">\(F\)</span> of a context word to a cluster and the type-token ratio (<span class="smallcaps">ttr</span>) of context words in the cluster, coloured by cloud type.
</p>
</div>
<p>Third, we will look at the <span class="math inline">\(\varepsilon\)</span> values across different cloud types. They were part of their definition, insofar the proportion of tokens with a lower <span class="math inline">\(\varepsilon\)</span> than the lower noise <span class="math inline">\(\varepsilon\)</span> is a criterion for Cumulus, Stratocumulus and Cirrus clouds. Nevertheless, it could be useful to summarize the resulting patterns. In that spirit, Figure <a href="shapes.html#fig:epsplot">5.12</a> shows, for each of the clusters in the medoids, the minimum, mean and maximum <span class="math inline">\(\varepsilon\)</span> within a cluster. Note that this gives us no insight on the relationship between the <span class="math inline">\(\varepsilon\)</span> of the tokens in the cluster and the values in other tokens, either clustered or noise.
As we would expect, Cirrostratus clouds tend to have the highest <span class="math inline">\(\varepsilon\)</span>: their tokens are disperse, far away from other tokens. Cumulus, Stratocumulus and Cirrus tend to have relatively similar values, although some Cumulus clouds are quite low and Cirrus clouds are quite flat and never very low. The differences between them are more likely to be found in their relationship with the noise <span class="math inline">\(\varepsilon\)</span>. Cumulus clouds stand out as dense areas against a very disperse (i.e. high <span class="math inline">\(\varepsilon\)</span>) background, whereas Cirrus clouds are just slightly denser than the rest of the clouds in their surroundings. Think of the uniform plots of <em>haten</em> and <em>hoop</em> in Figure <a href="shapes.html#fig:grey6">5.1</a> and the <span class="smallcaps">hdbscan</span> interpretation in Figure <a href="shapes.html#fig:coloured6">5.2</a>: all the tokens look, roughly, equally disperse. Finally, Cumulonimbus clouds exhibit the widest range of all: their tokens vary from very dense areas, i.e. very low <span class="math inline">\(\varepsilon\)</span>, to very disperse ones, i.e. high <span class="math inline">\(\varepsilon.\)</span></p>

<div class="figure">
<span style="display:block;" id="fig:epsplot"></span>
<img src="phdThesis_files/figure-html/epsplot-1.png" alt="Range of \(\varepsilon\) values within clouds of different types. Lines join the points belonging to the same cluster." width="672"><p class="caption">
Figure 5.12: Range of <span class="math inline">\(\varepsilon\)</span> values within clouds of different types. Lines join the points belonging to the same cluster.
</p>
</div>
<p>These characteristics can be roughly mapped to the altitude of the clouds from a meteorological perspective (see Figure <a href="shapes.html#fig:cloudtypes">5.13</a>). Figure <a href="shapes.html#fig:epsplot">5.12</a> relies on a common everyday metaphor: high values above, low values below. But what counts as high and low here is rather arbitrary: low <span class="math inline">\(\varepsilon\)</span> indicates a dense area in the plots, that is, that a token can find its 7 nearest neighbours in a very small radius, while a high <span class="math inline">\(\varepsilon\)</span> indicates a sparse area, with large distances between a token and its nearest neighbours. At the same time, the metaphor of altitude is also coherent with the original goal of this mapping: the low values, or high densities, stand out to the viewer as if they were closer. Similarly, if we look at clouds on the sky from below, lower clouds are going to stand out: that is the case of Cumulus, Stratocumulus and, naturally, Cumulonimbus clouds.</p>

<div class="figure">
<span style="display:block;" id="fig:cloudtypes"></span>
<img src="assets/img/cloudtypes.jpg" alt="Graphical representation of meteorological clouds at different altitudes. By Christopher M. Klaus at w:en:Argonne National Laboratory - Own work by en:User:Klaus, Public Domain, https://commons.wikimedia.org/w/index.php?curid=2760873" width="100%"><p class="caption">
Figure 5.13: Graphical representation of meteorological clouds at different altitudes. By Christopher M. Klaus at w:en:Argonne National Laboratory - Own work by en:User:Klaus, Public Domain, <a href="https://commons.wikimedia.org/w/index.php?curid=2760873" class="uri">https://commons.wikimedia.org/w/index.php?curid=2760873</a>
</p>
</div>
<p>Finally, Figure <a href="shapes.html#fig:cloudentropy">5.14</a> shows the entropy<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Computed with &lt;code&gt;entropy::entropy()&lt;/code&gt; &lt;span class="citation"&gt;(&lt;a href="references.html#ref-R-entropy" role="doc-biblioref"&gt;Hausser &amp;amp; Strimmer 2021&lt;/a&gt;)&lt;/span&gt;.&lt;/p&gt;'><sup>43</sup></a> of clouds of different types in terms of the manually annotated senses, against the entropy across the whole model. Entropy is a measure of information, and in this case it works as follows: the higher the entropy, the more variation of senses and the more balanced their frequencies; the lower the entropy, the more one sense dominates. We would like the entropy of the cluster (the <span class="math inline">\(y\)</span>-axis in Figure <a href="shapes.html#fig:cloudentropy">5.14</a>) to be as low as possible, that is, for the cluster to be as homogeneous as possible in terms of senses. At the same time, models with a higher initial entropy — due to the sense distribution of the lemmas they model — are more likely to have clusters with higher entropy.</p>
<p>On the one hand, the horizontal boxplots show that clouds of all types are equally likely to emerge in any model regardless of their sense distribution. This is consistent with the point I make in Chapter <a href="semantic-interpretation.html#semantic-interpretation">6</a> that clouds do not model senses. On the other hand, the vertical boxplots show that the different cloud types do tend to exhibit different entropy values. Cumulus clouds are the most homogeneous, while the Cumulonimbus clouds tend to be as heterogeneous as Cirrostratus (noise) — they might even have higher entropy than their models as a whole. Cumulus clouds in particular, but sometimes also Stratocumulus and maybe Cirrus, may be completely homogeneous regardless of the sense composition of the model itself, but they can also have higher entropy. Stratocumulus clouds tend to have slightly lower entropy than Cirrus clouds, i.e. they tend to be more homogeneous, even though they also tend to be larger.</p>

<div class="figure">
<span style="display:block;" id="fig:cloudentropy"></span>
<img src="phdThesis_files/figure-html/cloudentropy-1.png" alt="Mapping between the entropy in a medoid and in a cluster by cloud type." width="672"><p class="caption">
Figure 5.14: Mapping between the entropy in a medoid and in a cluster by cloud type.
</p>
</div>
</div>
<div id="theo2-summary" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Summary<a class="anchor" aria-label="anchor" href="#theo2-summary"><i class="fas fa-link"></i></a>
</h2>
<p>Token-level distributional models process a wealth of complex, messy information and try to return clear, interpretable patterns. These patterns take different forms: sometimes we have very clear, isolated, dense groups of similar tokens, like our ideal image of clouds in a clear sky; other times, a pattern is harder to find, and we barely catch a few clear wisps against an overcast sky. The clouds of one model are not independent from each other, and depending on the power of their leading context words they might merge into larger masses or split into smaller groups; powerful small Cumulus clouds may force everything else into a huge Cumulonimbus clouds, and the tension between its semantic fields might even create Hail.</p>
<p>In this chapter we have seen the variety of shapes that emerges from these distributional models, in particular in the interaction between the t-<span class="smallcaps">sne</span> visualization with perplexity 30 and the <span class="smallcaps">hdbscan</span> clustering with <span class="math inline">\(minPts = 8\)</span>. We have linked the visual results to the variety of context words and their representativeness, and we have found patterns in their semantic homogeneity. We know that all lemmas exhibit all types of clouds, but in different proportions, related to their tendency towards strong collocational patterns. In the next chapter, we will delve into the linguistic interpretation of these clouds, that is, their collocational properties and their relationship to the manually annotated dictionary senses.</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="dataset.html"><span class="header-section-number">4</span> Case studies</a></div>
<div class="next"><a href="semantic-interpretation.html"><span class="header-section-number">6</span> The language of clouds</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#shapes"><span class="header-section-number">5</span> A cloud atlas</a></li>
<li><a class="nav-link" href="#theo2-rationale"><span class="header-section-number">5.1</span> Rationale of the classification</a></li>
<li>
<a class="nav-link" href="#cloud-types"><span class="header-section-number">5.2</span> Types of clouds</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#cumulus-clouds"><span class="header-section-number">5.2.1</span> Cumulus clouds</a></li>
<li><a class="nav-link" href="#stratocumulus-clouds"><span class="header-section-number">5.2.2</span> Stratocumulus clouds</a></li>
<li><a class="nav-link" href="#cirrus-clouds"><span class="header-section-number">5.2.3</span> Cirrus clouds</a></li>
<li><a class="nav-link" href="#cumulonimbus-clouds"><span class="header-section-number">5.2.4</span> Cumulonimbus clouds</a></li>
<li><a class="nav-link" href="#cirrostratus-clouds"><span class="header-section-number">5.2.5</span> Cirrostratus clouds</a></li>
<li><a class="nav-link" href="#hail"><span class="header-section-number">5.2.6</span> Hail</a></li>
</ul>
</li>
<li><a class="nav-link" href="#cloud-patterns"><span class="header-section-number">5.3</span> Patterns across types of clouds</a></li>
<li><a class="nav-link" href="#theo2-summary"><span class="header-section-number">5.4</span> Summary</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/montesmariana/phdThesis/blob/master/05-nephological_shapes.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/montesmariana/phdThesis/edit/master/05-nephological_shapes.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Cloudspotting</strong>: Visual analytics for distributional semantics" was written by Mariana Montes. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
